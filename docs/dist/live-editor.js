"use strict";(()=>{var ae=Object.create;var O=Object.defineProperty;var de=Object.getOwnPropertyDescriptor;var ge=Object.getOwnPropertyNames;var fe=Object.getPrototypeOf,xe=Object.prototype.hasOwnProperty;var me=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var he=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of ge(n))!xe.call(e,i)&&i!==t&&O(e,i,{get:()=>n[i],enumerable:!(r=de(n,i))||r.enumerable});return e};var ke=(e,n,t)=>(t=e!=null?ae(fe(e)):{},he(n||!e||!e.__esModule?O(t,"default",{value:e,enumerable:!0}):t,e));var Z=me(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.StyledElement=S.CustomElement=void 0;var v=class extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.connected=!1}connectedCallback(){this.connected||(this.connect(),this.connected=!0)}};S.CustomElement=v;var M=class extends v{constructor(n){super();let t=document.createElement("link");t.setAttribute("rel","stylesheet");let r=document.currentScript.src,i=r.substring(0,r.lastIndexOf("/"));t.setAttribute("href",`${i}/${n}.css`),this.root.appendChild(t),this.body=document.createElement("div"),this.root.appendChild(this.body)}};S.StyledElement=M});var ue=ke(Z());function c(e,...n){let t=document.createElement(e);return n.length>0&&t.append(...n),t}function m(e){return document.createTextNode(e)}function Ie(e,n,t,r){if(e.find(l=>l.target==t))throw new Error("Transition between source and target already exist");let i={regexp:new RegExp(n,"yui"),target:t,group:r};return e.push(i),i}var E=class e{states;start;accept;groups;current;constructor(n,t,r){this.states=n,this.start=t,this.accept=r,this.groups={},this.current=this.start}static create(n,t){let r=Array.from({length:n+2},()=>[]);if(t.length!=r.length)throw new Error("Wrong number of arguments for the init function");let i=t(...r),l=r[0],o=r[r.length-1];for(let s=0;s<i.length;++s){let[d,x,T,N]=i[s];Ie(d,x,T,N)}if(o.length>0)throw new Error("Accept state cannot have outgoing transitions");return new e(r,l,o)}init(){this.current=this.start,this.groups={}}clone(){let n=structuredClone(this);return new e(n.states,n.start,n.accept)}exec(n,t,r=!1){let i=this.current;if(i==this.accept||!r&&t>=n.length)return[!0,t];for(let l=0;l<i.length;++l){let o=i[l];o.regexp.lastIndex=t;let s=o.regexp.exec(n);if(s){if(o.group){let x=s[0];s.index+x.length>=n.length&&(x+=`
`),this.groups[o.group]?this.groups[o.group]+=x:this.groups[o.group]=x}this.current=o.target;let d=this.exec(n,s.index+s[0].length,r);if(d[0])return d}}return[!1,t]}get accepted(){return this.current==this.accept}static concat(...n){let t=n[0].clone(),r=t;for(let i=1;i<n.length;++i){let l=i==n.length-1?n[i]:n[i].clone(),o=r.incoming(r.accept);for(let s=0;s<o.length;++s)o[s].target=l.start;t.states.pop(),t.states.push(...l.states),r=l}return t.accept=r.accept,t}getRegExp(n){return n.map(t=>`(?:${t.regexp.source})`).join("|")}get startRegExp(){return this.getRegExp(this.start)}incoming(n){let t=[];for(let r=0;r<this.states.length;++r){let i=this.states[r];if(i!=n)for(let l=0;l<i.length;++l){let o=i[l];o.target==n&&t.push(o)}}return t}};function p(e,n){return{matched:e,regexp:n}}function w(e,n,t=0){return{input:n,nextIndex:t,blocks:e.blocks,linkRefs:e.linkRefs,links:e.links}}function u(e,n,t,r=!0,i=n,l,o,s){e.blocks.push({element:n,parent:i,type:t,leaf:r,lines:[],cont:l,closing:o,continuing:s})}function I(e){let t=e.blocks.pop().element,r=a(e)?.parent;r&&r!=t&&r.append(t)}function a(e){return e.blocks[e.blocks.length-1]}function $(e){return a(e).element.tagName=="P"}function B(e){h(e),$(e)&&I(e)}function g(e,...n){a(e).parent.append(...n)}function L(e,n){a(e).parent.insertAdjacentHTML("beforeend",n)}function Ee(e,n){n.lines.push(e.input.slice(e.nextIndex)),e.nextIndex=e.input.length}function re(e,n){for(;n.lines.length>0&&n.lines[n.lines.length-1]=="";)n.lines.pop();for(;n.lines.length>0&&n.lines[0]=="";)n.lines.shift()}function ie(e,n){let t=e.map((r,i)=>`(?<g${i}>${r.regexp})`).join("|");return new RegExp(t,n?"yuis":"guis")}function Se(e,n){return new RegExp(`(?<open>${e})|(?<close>${n})`,"guis")}function b(e,n){n.lastIndex=e.nextIndex;let t=n.exec(e.input);return t&&(e.nextIndex=t.index+t[0].length),t}function le(e,n,t,r){if(t.nextIndex>=t.input.length)return!1;e.lastIndex=t.nextIndex;let i=e.exec(t.input);if(i&&i.groups){let l=n.find((o,s)=>i.groups[`g${s}`]!=null);if(l)return r&&oe(t,i.index),t.nextIndex=i.index+i[0].length,l.matched(t,i),!0}return!1}var se=/\\(?<esc>[!"#$%&'()*+,\-./:;<=>?@\[\\\]^_`{|}~\n])/guis,be=/(?<entity>&(?:[a-z]\w*|#\d{1,7}|#[Xx][\da-f]{1,6});)/.source,Pe=/ {4}| {0,3}\t/yuis,ye=/ {4}| {0,3}\t|\s*$/yuis,U=/ {0,3}> ?/yuis,P=/(?=\s*\S)/yuis,we=/(?<codedelim>`+)(?<code>\s.+\s|(?:[^`]|(?!\k<codedelim>)`)+)\k<codedelim>/.source,Re=/(?<emdelim>(?:(?<!\\)|(?<=\\\\))(?:\*\*?(?![\s\p{P}\p{S}]|$))|(?:(?<=[\s\p{P}\p{S}]|^)\*\*?(?![\P{P}*])))(?<em>.+)(?:(?<![\s\p{P}\p{S}\\*])\k<emdelim>(?!\*)|(?<![\P{P}\\*])\k<emdelim>(?=[\s\p{P}\p{S}])|(?<![\s\\*])\k<emdelim>$)/u.source,Te=/(?<emdelim>(?:(?<!\\)|(?<=\\\\))(?:__?(?![\s\p{P}\p{S}]|$))|(?:(?<=[\s\p{P}\p{S}]|^)__?(?![\P{P}_])))(?<em>.+)(?:(?<![\s\p{P}\p{S}\\_])\k<emdelim>(?!_)|(?<![\P{P}\\_])\k<emdelim>(?=[\s\p{P}\p{S}])|(?<![\s\\_])\k<emdelim>$)/u.source,ve=/\[(?<linklabel>(?:\s*(?:[^\[\]\s]|(?<=\\)(?<!\\\\)[\[\]])+\s*)+)\]/.source,Be=/(?:(?<!\\)<(?<linkdest>(?:[^<>\n]|(?<=\\)[<>])*)(?<!\\)>|(?<linkdest>(?!<)(?:[^\x00-\x1F\x7F ()]|(?<=\\)[()])*))/.source,$e=/(?:"(?<linktitle>(?:[^"]|(?<=\\)")+)"|'(?<linktitle>(?:[^']|(?<=\\)')+)'|\((?<linktitle>(?:[^()]|(?<=\\)[()])+)\))/.source,Le=/(?<!\\)\[/.source,Ae=/(?<!\\)!\[/.source,Ne=/(?<!\\)!?\[/.source,Me=/(?:(?<!\\)|(?<=\\\\))\]/.source,K=Se(Ne,Me),W=new RegExp(`\\(\\s*${Be}(?:\\s+${$e})?\\s*\\)`,"yuis"),Q=new RegExp(ve,"yuis"),X=/(?![(:])(?:\[\])?/yuis,ze=/<(?<autolink>[a-z][\w\-+.]{1,31}:[^\x00-\x1F\x7F <>]*)>/.source,Ce=/<(?<email>[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/.source,He=/(?<tagstart><(?<tag>[a-z][a-z0-9\-]*)(?:\s+[a-z:_][\w.:\-]*\s*(?:=\s*"[^"]*"|=\s*'[^']*'|=[^\s"'=<>`]+)?)*\s*)(?<tagend>\/?>)(?:(?<innerhtml>.*)<\/\k<tag>\s*>)?/.source,De=E.create(1,(e,n,t)=>[[e,/ {0,3}\[/,n],[n,/\s*(?:[^\[\]\s]|(?<=\\)(?<!\\\\)[\[\]])+/,n,"label"],[n,/\s*(?:(?<!\\)|(?<=\\\\))\]:\s*/,t]]),_e=E.create(0,(e,n)=>[[e,/\s*(?:<(?:[^<>]|(?<=\\)[<>])+(?<!\\)>|(?<!<)(?:[^\x00-\x1F\x7F ()]|(?<=\\)[()])+)(?:\s+|$)/,n,"dest"]]),je=E.create(3,(e,n,t,r,i)=>[[e,/\s*"/,n],[n,/(?:\s*(?:[^"\s]|(?<=\\)")+)+/,n,"title"],[n,/(?<!\\)"\s*$/,i],[e,/\s*'/,t],[t,/(?:\s*(?:[^'\s]|(?<=\\)')+)+/,t,"title"],[t,/(?<!\\)'\s*$/,i],[e,/\s*\(/,r],[r,/(?:\s*(?:[^()]|(?<=\\)[()])+)+/,r,"title"],[r,/(?<!\\)\)\s*$/,i],[e,/(?!["'(])|^/,i]]),k=E.concat(De,_e,je);function oe(e,n){if(n==null||n>e.nextIndex){let t=e.input.substring(e.nextIndex,n);t&&g(e,m(t))}}function A(e,n,t,r){t.lastIndex=n;let i=t.exec(e);if(i){let{open:l,close:o}=i.groups;if(n=i.index+i[0].length,l&&l==r){let s=A(e,n,t,r);return s?A(e,s.index+s[0].length,t,r):void 0}else if(o)return i}}function G(e){return p((n,t)=>{let{emdelim:r,em:i}=t.groups;u(n,c(r.length==1?"em":"strong"),1),R(w(n,i)),I(n)},e)}function C(e,n,t,r){let i=c("a");return t&&(i.href=y(t)),r&&(i.title=y(r)),u(e,i,1),R(w(e,n)),I(e),i}function J(e,n,t){n=n.toUpperCase();let r=e.linkRefs[n];if(r)C(e,t,r.destination,r.title);else{let i=e.links[n]||[];i.push(C(e,t)),e.links[n]=i}}function H(e,n,t,r){let i=c("img");return t&&(i.src=y(t)),i.alt=n,r&&(i.title=r),g(e,i),i}function V(e,n,t){n=n.toUpperCase();let r=e.linkRefs[n];if(r)H(e,t,r.destination,r.title);else{let i=e.links[n]||[];i.push(H(e,t)),e.links[n]=i}}function y(e){return e?.replaceAll(se,n=>n[1])}var Y=[p((e,n)=>{let{esc:t}=n.groups;t==`
`&&g(e,c("br")),g(e,m(t))},se.source),p((e,n)=>{let{entity:t}=n.groups;L(e,t)},be),p((e,n)=>{let{code:t}=n.groups;t=t.replaceAll(`
`," ");let r=/^ (.*[^ ].*) $/.exec(t);r&&(t=r[1]),g(e,c("code",m(t)))},we),p((e,n)=>{let t=A(e.input,e.nextIndex,K,"![");if(t){let r=e.input.substring(e.nextIndex,t.index);switch(e.nextIndex=t.index+t[0].length,e.input[e.nextIndex]){case"(":let i=b(e,W);if(i){let{linkdest:s,linktitle:d}=i.groups;return C(e,r,s,d)}break;case"[":let l=b(e,Q);if(l){let{linklabel:s}=l.groups;return J(e,s,r)}default:if(b(e,X))return J(e,r,r)}e.nextIndex=n.index+n[0].length}g(e,m(n[0]))},Le),p((e,n)=>{let t=A(e.input,e.nextIndex,K,"[");if(t){let r=e.input.substring(e.nextIndex,t.index);switch(e.nextIndex=t.index+t[0].length,e.input[e.nextIndex]){case"(":let i=b(e,W);if(i){let{linkdest:s,linktitle:d}=i.groups;return H(e,r,s,d)}break;case"[":let l=b(e,Q);if(l){let{linklabel:s}=l.groups;return V(e,s,r)}default:if(b(e,X))return V(e,r,r)}e.nextIndex=n.index+n[0].length}g(e,m(n[0]))},Ae),p((e,n)=>{let{autolink:t}=n.groups,r=c("a",m(t));r.href=t,g(e,r)},ze),p((e,n)=>{let{email:t}=n.groups,r=c("a",m(t));r.href="mailto:"+t,g(e,r)},Ce),G(Re),G(Te),p((e,n)=>{let{tagstart:t,tagend:r,innerhtml:i}=n.groups;L(e,t+r),r==">"&&i&&(u(e,a(e).parent.lastElementChild,1),R(w(e,i)),I(e))},He)],z;function R(e){if(!/^\s*$/.test(e.input)){for(z=z||ie(Y,!1);le(z,Y,e,!0););oe(e)}}function q(e,n,t,r){let i=n[0],l=n.index+i.length>=e.input.length?"":"|\\s*$",o=e.blocks.length-1;if(e.blocks[o].element.tagName=="P"){let f=e.blocks[o-1];if(f.element.tagName!="LI"&&(l.length==0||r&&r!="1")){e.nextIndex=n.index;return}h(e),f.element.tagName=="LI"?ee(e,f):I(e)}let d=i.length,x=t.length;x==0?d++:(x>4||l.length==0)&&(d-=x-1);let T=a(e),N=i.replaceAll(/\d+|[+*.)]|\s+$/g,f=>f[0]==" "?`(?:${f}|$)`:Number.isFinite(Number(f))?"\\d{1,9}":"\\"+f),F=new RegExp(`(?= {${d}}${l}|${N})`,"yui");if(r&&T.element.tagName!="OL"){let f=c("ol");r!="1"&&(f.start=Number.parseInt(r)),u(e,f,1,!1,void 0,F,ne)}else!r&&T.element.tagName!="UL"&&u(e,c("ul"),1,!1,void 0,F,ne);u(e,c("li"),1,!1,void 0,new RegExp(` {${d}}${l}`,"yui"),ee),e.nextIndex=n.index+d}function ee(e,n){let t=a(e),r=e.blocks[e.blocks.length-2];if(n.lines.length==0&&n==r&&n.element.childElementCount==0&&t.element.tagName=="P"){let i=e.blocks.pop();g(e,...i.element.childNodes),n.lines=i.lines}else if(n==t&&!r.closing&&n.element.childElementCount==1&&n.element.firstElementChild.tagName=="P"){let i=n.element.firstElementChild;n.element.append(...i.childNodes),i.remove()}}function ne(e,n){n.element.querySelector(":scope > li > p")||(n.closing=void 0)}function Fe(e,n){re(e,n);let t=/ {0,3}(?:`|~){3,}\s*$/yiu;t.lastIndex=e.nextIndex,t.exec(e.input)&&(e.nextIndex=t.lastIndex)}function Oe(e,n){let[t,r]=k.exec(e.input,e.nextIndex);!t||k.accepted?(D(e,n),e.nextIndex=r):e.nextIndex=e.input.length}function Ze(e,n){k.exec(e.input,e.nextIndex,!0),D(e,n)}function D(e,n){if(k.accepted){let{label:t,dest:r,title:i}=k.groups;if(t&&r){t=t.trim().toUpperCase(),r=y(r.trim()),i=y(i),e.linkRefs[t]||(/^<.*>$/.test(r)&&(r=r.slice(1,r.length-1)),e.linkRefs[t]={destination:r,title:i},e.links[t]?.forEach(l=>{r&&(l instanceof HTMLAnchorElement?l.href=r:l.src=r),i&&(l.title=i)}),delete e.links[t]),I(e);return}}n.element=c("p"),n.parent=n.element,n.type=1,n.cont=P}function te(e){$(e)||(h(e),u(e,c("p"),1,!0,void 0,P))}var ce=[p((e,n)=>{let{setext:t,setextspaces:r}=n.groups,i=a(e),l=n[0].trim().length;i.element.tagName=="P"?(i.element=c(t=="="?"h1":"h2"),i.parent=i.element,h(e),I(e)):t=="-"&&l>2?(h(e),g(e,c("hr"))):t=="-"&&l==1?q(e,n,r):(u(e,c("p"),1,!0,void 0,P),g(e,m(n[0])))},/ {0,3}(?<setext>-|=)\k<setext>*(?<setextspaces>\s*)$/.source),p(e=>{B(e),g(e,c("hr"))},/ {0,3}(?<brkchar>[*\-_])(?:\s*\k<brkchar>){2,}\s*$/.source),p((e,n)=>{B(e);let{atxlevel:t,atxheader:r}=n.groups,i=t.length;u(e,c(`h${i}`),1),R(w(e,r)),I(e)},/ {0,3}(?<atxlevel>#{1,6})\s+(?<atxheader>.*?)\s*$/.source),p(e=>{if(!$(e)){h(e);let n=c("code");u(e,c("pre",n),0,!0,n,ye,re)}},Pe.source),p((e,n)=>{let{codefence:t,codelang:r}=n.groups;B(e);let i=new RegExp(`(?! {0,3}${t}+\\s*$)`,"yui"),l=c("code");r&&(l.className=`language-${y(r)}`),u(e,c("pre",l),0,!0,l,i,Fe)},/ {0,3}(?<codefence>(?:`|~){3,})(?:\s*(?<codelang>[^\s`~]+))?\s*$/.source),p(e=>{h(e);let n=/(?!.*(?:<\/pre>|<\/script>|<\/style>|<\/textarea>))/yui,t=e.input;n.lastIndex=e.nextIndex,n.test(t)?u(e,a(e).parent,2,!0,void 0,n,Ee):(L(e,t.slice(e.nextIndex)+`
`),e.nextIndex=t.length)},/(?= {0,3}<pre|<script|<style|<textarea)/.source),p(e=>{h(e),u(e,a(e).parent,2,!0,void 0,P)},/(?= {0,3}<[a-z][a-z0-9\-]*(?:\s+[a-z:_][\w.:-]*\s*(?:=\s*"[^"]*"|\s*='[^']*'|=[^\s"'=<>`]+)?)*\s*>\s*$)/.source),p(e=>{B(e),u(e,c("blockquote"),1,!1,void 0,U)},U.source),p((e,n)=>{let{bulletno:t,bulletsep:r}=n.groups;q(e,n,r,t)},/ {0,3}(?:[\-+*]|(?<bulletno>\d{1,9})[.)])(?<bulletsep> +|$)/.source),p((e,n)=>{if(!$(e)){k.init();let[t]=k.exec(e.input,n.index);if(t){if(h(e),u(e,a(e).parent,3,!0,void 0,P,Ze,Oe),k.accepted)return e.nextIndex=e.input.length,D(e,a(e))}else te(e)}e.nextIndex=n.index},k.startRegExp),p(te,P.source)],Ue=ie(ce,!0);function h(e){let n=a(e);if(n.lines.length>0){switch(n.type){case 1:R(w(e,n.lines.map(t=>t.trim()).join(`
`)));break;case 0:g(e,m(n.lines.join(`
`)));break;case 2:n.lines.push(""),L(e,n.lines.join(`
`));break}n.lines=[]}}function pe(e,n){for(let t=n;t<e.blocks.length;++t){let r=e.blocks[t];r.closing?.(e,r)}for(;e.blocks.length>n;)h(e),I(e)}function Ke(e){for(let n=0;n<e.blocks.length;++n){let t=e.blocks[n];if(t.cont){if(t.cont.lastIndex=e.nextIndex,!t.cont.exec(e.input))return pe(e,n);e.nextIndex=t.cont.lastIndex,t.continuing?.(e,t)}}}function _(e,n){let t={input:"",nextIndex:0,blocks:[],linkRefs:{},links:{}};u(t,n,1,!1);let r=e.split(`
`);for(let i=0;i<r.length;++i){let l=r[i],o=w(t,l,0);Ke(o);let s=a(o);if(!s.leaf||s.element.tagName=="P")for(;le(Ue,ce,o,!1)&&(s=a(o),!s.leaf););s.lines.push(l.slice(o.nextIndex))}pe(t,0)}var We=`# Sample Markdown

## Introduction

This is a sample CommonMark file demonstrating basic Markdown syntax.

## Lists

- Item 1
- Item 2
    - Subitem 2.1
    - Subitem 2.2

## Code

\`\`\`python
def hello_world():
        print("Hello, world!")
\`\`\`

## Links

[CommonMark Specification](https://commonmark.org/)

## Images

![Markdown Logo](https://markdown-here.com/img/icon256.png)

## Blockquote

> Markdown is a lightweight markup language.

## Emphasis

*Italic* and **bold** text.

***

Divided paragraph.`,j=class extends ue.StyledElement{constructor(){super("live-editor")}connect(){this.body.className="body";let n=c("textarea");n.name="editor",n.title="Enter markdown here";let t=c("div");t.className="preview",this.body.append(n,t),n.oninput=()=>{for(;t.lastChild;)t.removeChild(t.lastChild);_(n.value,t)},n.value=We,_(n.value,t)}};customElements.define("live-editor",j);})();
